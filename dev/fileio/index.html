<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>File Formats · DeviceLayout.jl</title><meta name="title" content="File Formats · DeviceLayout.jl"/><meta property="og:title" content="File Formats · DeviceLayout.jl"/><meta property="twitter:title" content="File Formats · DeviceLayout.jl"/><meta name="description" content="Documentation for DeviceLayout.jl."/><meta property="og:description" content="Documentation for DeviceLayout.jl."/><meta property="twitter:description" content="Documentation for DeviceLayout.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DeviceLayout.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Geometry-Level Layout</span><ul><li><a class="tocitem" href="../geometrylevel/">Overview</a></li><li><a class="tocitem" href="../units/">Units</a></li><li><a class="tocitem" href="../points/">Points</a></li><li><a class="tocitem" href="../geometry/">Geometry</a></li><li><a class="tocitem" href="../transformations/">Transformations</a></li><li><a class="tocitem" href="../entitystyles/">Entity Styles</a></li><li><a class="tocitem" href="../polygons/">Polygons</a></li><li><a class="tocitem" href="../coordinate_systems/">Coordinate Systems</a></li><li><a class="tocitem" href="../texts/">Texts</a></li><li><a class="tocitem" href="../paths/">Paths</a></li><li><a class="tocitem" href="../routes/">Routes</a></li><li><a class="tocitem" href="../shapes/">Shape library</a></li><li><a class="tocitem" href="../autofill/">Autofill</a></li><li><a class="tocitem" href="../render/">Rendering</a></li><li><a class="tocitem" href="../solidmodels/">Solid Models (3D Geometry)</a></li><li class="is-active"><a class="tocitem" href>File Formats</a><ul class="internal"><li><a class="tocitem" href="#Saving-patterns"><span>Saving patterns</span></a></li><li><a class="tocitem" href="#Loading-patterns"><span>Loading patterns</span></a></li></ul></li><li><a class="tocitem" href="../faq/">Troubleshooting/FAQ</a></li></ul></li><li><span class="tocitem">Schematic-Driven Layout</span><ul><li><a class="tocitem" href="../schematicdriven/">Overview</a></li><li><a class="tocitem" href="../schematicdriven/components/">Components</a></li><li><a class="tocitem" href="../schematicdriven/hooks/">Hooks</a></li><li><a class="tocitem" href="../schematicdriven/schematics/">Schematics</a></li><li><a class="tocitem" href="../schematicdriven/technologies/">Technologies</a></li><li><a class="tocitem" href="../schematicdriven/targets/">Targets</a></li><li><a class="tocitem" href="../schematicdriven/solidmodels/">Solid Models</a></li><li><a class="tocitem" href="../schematicdriven/pdks/">PDKs</a></li><li><a class="tocitem" href="../schematicdriven/faq/">Troubleshooting/FAQ</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/examplepdk/">ExamplePDK</a></li><li><a class="tocitem" href="../examples/qpu17/">Quantum Processor</a></li><li><a class="tocitem" href="../examples/singletransmon/">Single-Transmon Simulation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Geometry-Level Layout</a></li><li class="is-active"><a href>File Formats</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>File Formats</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/aws-cqc/DeviceLayout.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/main/docs/src/fileio.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p>To save or load patterns in any format, make sure you are <code>using FileIO</code>.</p><h2 id="Saving-patterns"><a class="docs-heading-anchor" href="#Saving-patterns">Saving patterns</a><a id="Saving-patterns-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-patterns" title="Permalink"></a></h2><p>This package can load/save patterns in the GDSII format for use with e-beam lithography systems. In the future it may be useful to implement machine-specific pattern formats to force fracturing or dosing in an explicit manner.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.save" href="#DeviceLayout.save"><code>DeviceLayout.save</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">save(file::File{format&quot;DXF&quot;}, c::Cell, python::String)</code></pre><p>Export a <code>Cell</code> to a DXF file. Uses the <code>ezdxf</code> program in Python, and requires the python executable path that has that package installed (could simply be <code>python</code>, or <code>/Users/user/.julia/conda/3/bin/python</code>). Generates a Python script and runs it, to avoid PyCall dependency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/backends/dxf.jl#L82-L89">source</a></section><section><div><pre><code class="language-julia hljs">save(::Union{AbstractString,IO}, cell0::Cell{T}, cell::Cell...)
save(f::File{format&quot;GDS&quot;}, cell0::Cell, cell::Cell...;
    name=&quot;GDSIILIB&quot;, userunit=1μm, modify=now(), acc=now(),
    verbose=false)</code></pre><p>This bottom method is implicitly called when you use the convenient syntax of the top method: <code>save(&quot;/path/to/my.gds&quot;, cells_i_want_to_save...)</code></p><p>Keyword arguments include:</p><ul><li><code>name</code>: used for the internal library name of the GDSII file and probably inconsequential for modern workflows.</li><li><code>userunit</code>: sets what 1.0 corresponds to when viewing this file in graphical GDS editors with inferior unit support.</li><li><code>modify</code>: date of last modification.</li><li><code>acc</code>: date of last accession. It would be unusual to have this differ from <code>now()</code>.</li><li><code>verbose</code>: monitor the output of <a href="../coordinate_systems/#DeviceLayout.CoordinateSystems.traverse!"><code>traverse!</code></a> and <a href="../coordinate_systems/#DeviceLayout.CoordinateSystems.order!"><code>order!</code></a> to see if something funny is happening while saving.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/backends/gds.jl#L509-L528">source</a></section><section><div><pre><code class="language-julia hljs">save(file::File, sm::SolidModel)
save(filename::String, sm::SolidModel)</code></pre><p>Save a <code>SolidModel</code> instance to a <code>file</code> or <code>filename</code>.</p><p>Supported filetypes for OpenCASCADE geometries are <code>.brep</code> and <code>.stp</code>. Meshes can be exported as <code>.msh2</code> (compatible with Palace) or <code>.msh</code> (most recent Gmsh format) files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/solidmodels/solidmodels.jl#L279-L287">source</a></section></article><p>Using the <a href="https://cairographics.org">Cairo graphics library</a>, it is possible to save cells into SVG, PDF, and EPS vector graphics formats, or into the PNG raster graphic format. This enables patterns to be displayed in web browsers, publications, presentations, and so on. You can save a cell to a graphics file by, e.g. <code>save(&quot;/path/to/file.svg&quot;, mycell)</code>. Note that cell references and arrays are not saved, so you should flatten cells if desired before saving them.</p><p>Possible keyword arguments include:</p><ul><li><code>width</code>: Specifies the width parameter. A unitless number will give the width in pixels, 72dpi. You can also give a length in any unit using a <code>Unitful.Quantity</code>, e.g. <code>u&quot;4inch&quot;</code> if you had previously done <code>using Unitful</code>.</li><li><code>height</code>: Specifies the height parameter. A unitless number will give the width in pixels, 72dpi. You can also give a length in any unit using a <code>Unitful.Quantity</code>. The aspect ratio of the output is always preserved so specify either <code>width</code> or <code>height</code>.</li><li><code>layercolors</code>: Should be a dictionary with <code>Int</code> keys for layers and RGBA tuples as values. For example, (1.0, 0.0, 0.0, 0.5) is red with 50% opacity.</li><li><code>bboxes</code>: Specifies whether to draw bounding boxes around the bounds of cell arrays or cell references (true/false).</li></ul><h2 id="Loading-patterns"><a class="docs-heading-anchor" href="#Loading-patterns">Loading patterns</a><a id="Loading-patterns-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-patterns" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.load" href="#DeviceLayout.load"><code>DeviceLayout.load</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load(f::File{format&quot;GDS&quot;}; verbose::Bool=false, nounits::Bool=false)</code></pre><p>A dictionary of top-level cells (<code>Cell</code> objects) found in the GDSII file is returned. The dictionary keys are the cell names. The other cells in the GDSII file are retained by <code>CellReference</code> or <code>CellArray</code> objects held by the top-level cells. Currently, cell references and arrays are not implemented.</p><p>The FileIO package recognizes files based on &quot;magic bytes&quot; at the start of the file. To permit any version of GDSII file to be read, we consider the magic bytes to be the GDS HEADER tag (<code>0x0002</code>), preceded by the number of bytes in total (<code>0x0006</code>) for the entire HEADER record. The last well-documented version of GDSII is v6.0.0, encoded as <code>0x0258 == 600</code>. LayoutEditor appears to save a version 7 as <code>0x0007</code>, which as far as I can tell is unofficial, and probably just permits more layers than 64, or extra characters in cell names, etc.</p><p>If the database scale is <code>1μm</code>, <code>1nm</code>, or <code>1pm</code>, then the corresponding unit is used for the resulting imported cells. Otherwise, an &quot;anonymous unit&quot; is used that will display as <code>u&quot;2.4μm&quot;</code> if the database scale is 2.4μm, say.</p><p>Warnings are thrown if the GDSII file does not begin with a BGNLIB record following the HEADER record, but loading will proceed.</p><p>Property values and attributes (PROPVALUE and PROPATTR records) will be ignored.</p><p>Encountering an ENDLIB record will discard the remainder of the GDSII file without warning. If no ENDLIB record is present, a warning will be thrown.</p><p>The content of some records are currently discarded (mainly the more obscure GDSII record types, but also BGNLIB and LIBNAME).</p><p>If <code>nounits</code> is true, <code>Cell{Float64}</code> objects will be returned, where 1.0 corresponds to one micron.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/backends/gds.jl#L581-L614">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../solidmodels/">« Solid Models (3D Geometry)</a><a class="docs-footer-nextpage" href="../faq/">Troubleshooting/FAQ »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Thursday 27 February 2025 13:39">Thursday 27 February 2025</span>. Using Julia version 1.10.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
