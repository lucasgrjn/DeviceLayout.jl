<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Autofill · DeviceLayout.jl</title><meta name="title" content="Autofill · DeviceLayout.jl"/><meta property="og:title" content="Autofill · DeviceLayout.jl"/><meta property="twitter:title" content="Autofill · DeviceLayout.jl"/><meta name="description" content="Documentation for DeviceLayout.jl."/><meta property="og:description" content="Documentation for DeviceLayout.jl."/><meta property="twitter:description" content="Documentation for DeviceLayout.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DeviceLayout.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Geometry-Level Layout</span><ul><li><a class="tocitem" href="../geometrylevel/">Overview</a></li><li><a class="tocitem" href="../units/">Units</a></li><li><a class="tocitem" href="../points/">Points</a></li><li><a class="tocitem" href="../geometry/">Geometry</a></li><li><a class="tocitem" href="../transformations/">Transformations</a></li><li><a class="tocitem" href="../entitystyles/">Entity Styles</a></li><li><a class="tocitem" href="../polygons/">Polygons</a></li><li><a class="tocitem" href="../coordinate_systems/">Coordinate Systems</a></li><li><a class="tocitem" href="../texts/">Texts</a></li><li><a class="tocitem" href="../paths/">Paths</a></li><li><a class="tocitem" href="../routes/">Routes</a></li><li><a class="tocitem" href="../shapes/">Shape library</a></li><li class="is-active"><a class="tocitem" href>Autofill</a></li><li><a class="tocitem" href="../render/">Rendering</a></li><li><a class="tocitem" href="../solidmodels/">Solid Models (3D Geometry)</a></li><li><a class="tocitem" href="../fileio/">File Formats</a></li><li><a class="tocitem" href="../faq/">Troubleshooting/FAQ</a></li></ul></li><li><span class="tocitem">Schematic-Driven Layout</span><ul><li><a class="tocitem" href="../schematicdriven/">Overview</a></li><li><a class="tocitem" href="../schematicdriven/components/">Components</a></li><li><a class="tocitem" href="../schematicdriven/hooks/">Hooks</a></li><li><a class="tocitem" href="../schematicdriven/schematics/">Schematics</a></li><li><a class="tocitem" href="../schematicdriven/technologies/">Technologies</a></li><li><a class="tocitem" href="../schematicdriven/targets/">Targets</a></li><li><a class="tocitem" href="../schematicdriven/solidmodels/">Solid Models</a></li><li><a class="tocitem" href="../schematicdriven/pdks/">PDKs</a></li><li><a class="tocitem" href="../schematicdriven/faq/">Troubleshooting/FAQ</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/examplepdk/">ExamplePDK</a></li><li><a class="tocitem" href="../examples/qpu17/">Quantum Processor</a></li><li><a class="tocitem" href="../examples/singletransmon/">Single-Transmon Simulation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Geometry-Level Layout</a></li><li class="is-active"><a href>Autofill</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Autofill</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/aws-cqc/DeviceLayout.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/main/docs/src/autofill.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Autofill"><a class="docs-heading-anchor" href="#Autofill">Autofill</a><a id="Autofill-1"></a><a class="docs-heading-anchor-permalink" href="#Autofill" title="Permalink"></a></h1><p>There are some utility methods for generating &quot;halos&quot; of structures for use as exclusion zones and automatically filling in non-excluded areas with references.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.Autofill.autofill!" href="#DeviceLayout.Autofill.autofill!"><code>DeviceLayout.Autofill.autofill!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">autofill!(cs::AbstractCoordinateSystem,
    filler_cs::AbstractCoordinateSystem,
    grid_x::AbstractArray,
    grid_y::AbstractArray,
    exclusion)</code></pre><p>Add references to <code>filler_cs</code> inside <code>cs</code> at grid points not in any <code>exclusion</code> polygon.</p><p>The <code>exclusion</code> argument may be</p><ul><li>a <code>Coordinate</code> denoting an offset used to generate the excluded region from shapes in <code>cs</code></li><li>a <code>CoordinateSystem</code> or <code>Cell</code> containing the geometry of the excluded region</li><li>a <code>Function</code> creating a <code>CoordinateSystem</code> or <code>Cell</code> from <code>cs</code></li><li>an <code>AbstractArray{&lt;:AbstractPolygon}</code></li></ul><p>Returns the origins of references.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/autofill.jl#L41-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.halo" href="#DeviceLayout.halo"><code>DeviceLayout.halo</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">halo(pa::Path, outer_delta, inner_delta; only_layers=[], ignore_layers=[])</code></pre><p>Return a <code>Path</code> forming the halo of <code>pa</code>, equivalent to offsetting the geometry by <code>outer_delta</code>, then subtracting the offset by <code>inner_delta</code> if it is not <code>nothing</code>.</p><p>Extends the start and/or end by <code>delta</code> (for each inner/outer offset) when <code>pa</code> has nonzero extent at the endpoints. Each segment&#39;s style is the halo style of the original segment.</p><p>For the segments of the <code>Path</code> and any attached references, any entities in layers in <code>ignore_layers</code> will be skipped. Note that even if the segments are ignored, attachments may not be. If <code>only_layers</code> is not empty, only those layers will be used to generate the halo. Layers for inclusion and exclusion can be provided as layer name <code>Symbol</code>s, in which case only the layer name needs to be matched, or as full <code>DeviceLayout.Meta</code> objects, in which case all metadata fields (e.g., index and level for <code>SemanticMeta</code>) must match.</p><p>Returns a Path.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/paths/paths.jl#L1321-L1338">source</a></section><section><div><pre><code class="language-julia hljs">halo(sty::Paths.Style, outer_delta, inner_delta=nothing; kwargs...)</code></pre><p>Return a <code>Trace</code> or <code>CPW</code> style covering the extent of <code>sty</code> from an offset of <code>inner_delta</code> to <code>outer_delta</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/paths/paths.jl#L1474-L1478">source</a></section><section><div><pre><code class="language-julia hljs">halo(ent::GeometryEntity{T}, outer_delta, inner_delta=nothing)</code></pre><p>Return the &quot;halo&quot; of <code>ent</code> using an offset of <code>outer_delta</code>.</p><p>By default, the halo is a vector containing <a href="../polygons/#DeviceLayout.offset"><code>offset(footprint(ent), outer_delta)</code></a>, but it may contain any number of <code>GeometryEntity</code>s that together fully cover <code>ent</code> with a margin of <code>outer_delta</code>. It is not guaranteed to cover <a href="../geometry/#DeviceLayout.footprint"><code>footprint(ent)</code></a>.</p><p>If <code>inner_delta</code> is provided, then the offset at <code>inner_delta</code> is subtracted from the result.</p><p>A <code>GeometryEntity</code> should implement a specialized <code>halo</code> if there is an efficient non-<code>Polygon</code> representation of the halo. If it does not, then by default <code>offset</code> will be used, which first resolves the entity into <code>Polygon</code>s using <code>to_polygons</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/entities.jl#L142-L157">source</a></section><section><div><pre><code class="language-julia hljs">halo(cs::CoordinateSystem, outer_delta, inner_delta=nothing; only_layers=[],
    ignore_layers=[])
halo(cs::Cell, outer_delta, inner_delta=nothing; only_layers=[], ignore_layers=[])</code></pre><p>A coordinate system of type <code>typeof(cs)</code> with halos for all entities in <code>cs</code>, tracing through <code>cs.refs</code>.</p><p>Any entities in layers in <code>ignore_layers</code> will be skipped. If <code>only_layers</code> is not empty, only those layers will be used to generate the halo. Layers for inclusion and exclusion can be provided as layer name <code>Symbol</code>s, in which case only the layer name needs to be matched, or as full <code>DeviceLayout.Meta</code> objects, in which case all metadata fields (e.g., index and level for <code>SemanticMeta</code>) must match.</p><p>The orientations of polygons must be consistent, such that outer polygons share the same orientation, and any holes have the opposite orientation. Additionally, any holes should be contained within outer polygons; offsetting hole edges may create positive artifacts at corners.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/autofill.jl#L109-L126">source</a></section><section><div><pre><code class="language-julia hljs">halo(c::AbstractComponent, delta, inner_delta=nothing; only_layers=[], ignore_layers=[])</code></pre><p>A component&#39;s halo, intended for use as an exclusion zone parameterized by a bias <code>delta</code>.</p><p>By default, this applies a <code>delta</code> halo to all <code>geometry</code> elements whose metadata matches the inclusion/exclusion requirements. For example, polygons are offset by <code>delta</code> (enlarged by growing <code>delta</code> away from each original edge). Any entities in layers in <code>ignore_layers</code> will be skipped. If <code>only_layers</code> is not empty, only those layers will be used to generate the halo. Layers for inclusion and exclusion can be provided as layer name <code>Symbol</code>s, in which case only the layer name needs to be matched, or as full <code>DeviceLayout.Meta</code> objects, in which case all metadata fields (e.g., index and level for <code>SemanticMeta</code>) must match.</p><p>An <code>inner_delta</code> may be specified to subtract the halo at that bias from the result.</p><p><code>AbstractComponent</code>s may define their own <code>halo</code> methods.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L257-L274">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.Autofill.make_halo" href="#DeviceLayout.Autofill.make_halo"><code>DeviceLayout.Autofill.make_halo</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make_halo(delta, inner_delta=nothing; only_layers=[], ignore_layers=[])</code></pre><p>Returns a function <code>(c)-&gt;halo(c, delta, inner_delta; only_layers, ignore_layers)</code> for generating <code>GeometryStructure</code> halos.</p><p>Any entities in layers in <code>ignore_layers</code> will be skipped. If <code>only_layers</code> is not empty, only those layers will be used to generate the halo. Layers for inclusion and exclusion can be provided as layer name <code>Symbol</code>s, in which case only the layer name needs to be matched, or as full <code>DeviceLayout.Meta</code> objects, in which case all metadata fields (e.g., index and level for <code>SemanticMeta</code>) must match.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/autofill.jl#L24-L35">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../shapes/">« Shape library</a><a class="docs-footer-nextpage" href="../render/">Rendering »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Thursday 27 February 2025 13:39">Thursday 27 February 2025</span>. Using Julia version 1.10.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
