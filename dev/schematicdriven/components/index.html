<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Components · DeviceLayout.jl</title><meta name="title" content="Components · DeviceLayout.jl"/><meta property="og:title" content="Components · DeviceLayout.jl"/><meta property="twitter:title" content="Components · DeviceLayout.jl"/><meta name="description" content="Documentation for DeviceLayout.jl."/><meta property="og:description" content="Documentation for DeviceLayout.jl."/><meta property="twitter:description" content="Documentation for DeviceLayout.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">DeviceLayout.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Geometry-Level Layout</span><ul><li><a class="tocitem" href="../../geometrylevel/">Overview</a></li><li><a class="tocitem" href="../../units/">Units</a></li><li><a class="tocitem" href="../../points/">Points</a></li><li><a class="tocitem" href="../../geometry/">Geometry</a></li><li><a class="tocitem" href="../../transformations/">Transformations</a></li><li><a class="tocitem" href="../../entitystyles/">Entity Styles</a></li><li><a class="tocitem" href="../../polygons/">Polygons</a></li><li><a class="tocitem" href="../../coordinate_systems/">Coordinate Systems</a></li><li><a class="tocitem" href="../../texts/">Texts</a></li><li><a class="tocitem" href="../../paths/">Paths</a></li><li><a class="tocitem" href="../../routes/">Routes</a></li><li><a class="tocitem" href="../../shapes/">Shape library</a></li><li><a class="tocitem" href="../../autofill/">Autofill</a></li><li><a class="tocitem" href="../../render/">Rendering</a></li><li><a class="tocitem" href="../../solidmodels/">Solid Models (3D Geometry)</a></li><li><a class="tocitem" href="../../fileio/">File Formats</a></li><li><a class="tocitem" href="../../faq/">Troubleshooting/FAQ</a></li></ul></li><li><span class="tocitem">Schematic-Driven Layout</span><ul><li><a class="tocitem" href="../">Overview</a></li><li class="is-active"><a class="tocitem" href>Components</a><ul class="internal"><li><a class="tocitem" href="#Defining-components"><span>Defining components</span></a></li><li><a class="tocitem" href="#Built-in-components"><span>Built-in components</span></a></li><li><a class="tocitem" href="#Paths-as-components"><span>Paths as components</span></a></li><li><a class="tocitem" href="#Composite-components"><span>Composite components</span></a></li><li><a class="tocitem" href="#Modifying-components"><span>Modifying components</span></a></li></ul></li><li><a class="tocitem" href="../hooks/">Hooks</a></li><li><a class="tocitem" href="../schematics/">Schematics</a></li><li><a class="tocitem" href="../technologies/">Technologies</a></li><li><a class="tocitem" href="../targets/">Targets</a></li><li><a class="tocitem" href="../solidmodels/">Solid Models</a></li><li><a class="tocitem" href="../pdks/">PDKs</a></li><li><a class="tocitem" href="../faq/">Troubleshooting/FAQ</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/examplepdk/">ExamplePDK</a></li><li><a class="tocitem" href="../../examples/qpu17/">Quantum Processor</a></li><li><a class="tocitem" href="../../examples/singletransmon/">Single-Transmon Simulation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Schematic-Driven Layout</a></li><li class="is-active"><a href>Components</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Components</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/aws-cqc/DeviceLayout.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/main/docs/src/schematicdriven/components.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Components"><a class="docs-heading-anchor" href="#Components">Components</a><a id="Components-1"></a><a class="docs-heading-anchor-permalink" href="#Components" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.AbstractComponent" href="#DeviceLayout.AbstractComponent"><code>DeviceLayout.AbstractComponent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractComponent{T} &lt;: GeometryStructure{T}</code></pre><p>A parameterized layout element, to be used as a building block in schematic-driven design.</p><p>The alias <code>Component = AbstractComponent{typeof(1.0nm)}</code> is provided for convenience.</p><p>Each <code>AbstractComponent</code> comes with the necessary parameters and methods to render its geometry and to attach it to other components in a schematic. Something similar to this concept may be familiar from other electronic design automation tools as a PCell (&quot;parameterized cell&quot;).</p><p>You might call something a component if you would include it in a schematic or diagram rather than abstracting it away, if it can be described as a black box with ports, or if you might want to simulate it independently. For example, a series interdigital capacitor could be defined as a <code>AbstractComponent</code>, with attachment points (<code>Hook</code>s) at the end of each lead.</p><p><code>AbstractComponent</code>s provide a common interface:</p><ul><li><code>name(c::MyComponent)</code>: The name of the component.</li><li><code>parameters(c::MyComponent)</code>: The parameters of the component as a <code>NamedTuple</code>.</li><li><code>geometry(c::MyComponent)</code>: A coordinate system containing <code>c</code>&#39;s rendered geometry.</li><li><code>hooks(c::MyComponent)</code>: A <code>NamedTuple</code> of <code>Hook</code>s and <code>Hook</code> arrays that specify how connections are made with <code>c</code>.</li><li><code>hooks(c::MyComponent, h::Symbol)</code>: The specific hook identified by <code>h</code>.</li><li><code>default_parameters(c::Union{MyComponent, Type{MyComponent}})</code>: Default parameters as a <code>NamedTuple</code>.</li><li><code>parameter_names(c::Union{MyComponent, Type{MyComponent}})</code>: Parameter names as a collection of <code>Symbol</code>s.</li><li>A keyword constructor that merges keyword arguments into <code>default_parameters</code> non-recursively. (That is, a <code>NamedTuple</code> keyword argument will overwrite the default parameter entirely, meaning every &quot;subparameter&quot; in the <code>NamedTuple</code> needs to be specified.)</li><li><code>create_component(::Type{MyComponent}, name::String=default_parameters(MyComponent).name, base_parameters::NamedTuple=default_parameters(MyComponent); kwargs...)</code>: Constructor that recursively merges <code>kwargs</code> into <code>base_parameters</code>. (That is, a <code>NamedTuple</code> keyword argument will be merged into the corresponding <code>NamedTuple</code> base parameter, meaning not every &quot;subparameter&quot; needs to be fully specified.)</li><li><code>set_parameters(mycomp::MyComponent, name::String=name(mycomp), params::NamedTuple=parameters(c); kwargs...)</code>: Shorthand for <code>create_component</code> using <code>mycomp</code> for base parameters</li><li><code>(mycomp::MyComponent)(name::String=name(mycomp), params::NamedTuple=parameters(mycomp)=; kwargs...)</code>: Shorter shorthand for the above</li></ul><p>Since <code>AbstractComponent</code> is a subtype of <code>GeometryStructure</code>, they can also be referenced by a <code>StructureReference</code>. Other <code>GeometryStructure</code> interface methods, including <code>elements</code>, <code>element_metadata</code>, <code>refs</code>, <code>flatten</code>,  <code>footprint</code>, <code>halo</code>, and <code>transform</code> operate on <code>geometry(mycomp)</code>.</p><p>The <code>name</code> of a component is not guaranteed to be unique. Instances of components within schematics as well as coordinate systems within a layout will always have unique identifiers, which are automatically constructed from a component&#39;s name using <code>uniquename</code> if it is not already unique. For this reason, it is often best for designers to give important components unique names, guaranteeing that the corresponding identifiers are the same.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/DeviceLayout.jl#L238-L285">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.Component" href="#DeviceLayout.SchematicDrivenLayout.Component"><code>DeviceLayout.SchematicDrivenLayout.Component</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">const Component = AbstractComponent{typeof(1.0UPREFERRED)}</code></pre><p><code>Component</code> is an alias for <code>AbstractComponent</code> with the coordinate type <code>typeof(1.0UPREFERRED)</code>.</p><p><a href="../../units/#DeviceLayout.PreferNanometers.UPREFERRED"><code>DeviceLayout.UPREFERRED</code></a> is a constant set according to the <code>unit</code> preference in <code>Project.toml</code> or <code>LocalPreferences.toml</code>. The default (<code>&quot;PreferNanometers&quot;</code>) gives <code>const UPREFERRED = DeviceLayout.nm</code>, with mixed-unit operations preferring conversion to <code>nm</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/SchematicDrivenLayout.jl#L113-L121">source</a></section></article><h2 id="Defining-components"><a class="docs-heading-anchor" href="#Defining-components">Defining components</a><a id="Defining-components-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-components" title="Permalink"></a></h2><p>The recommended way to define a component is the <code>@compdef</code> macro, which specifies the parameters names and defaults as part of the struct definition. It creates the keyword constructor (like <code>Base.@kwdef</code> does) as well as the <code>default_parameters</code> method that are required to allow the above interface to work.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.@compdef" href="#DeviceLayout.SchematicDrivenLayout.@compdef"><code>DeviceLayout.SchematicDrivenLayout.@compdef</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@compdef typedef</code></pre><p>This is a helper macro that extends <code>Base.@kwdef</code>, which automatically defines a keyword-based constructor for the type declared in the expression <code>typedef</code>, which must be a <code>struct</code> or <code>mutable struct</code> expression. The default argument is supplied by declaring fields of the form <code>field::T = default</code> or <code>field = default</code>. If no default is provided then the keyword argument becomes a required keyword argument in the resulting type constructor. Inner constructors can still be defined, but at least one should accept arguments in the same form as the default inner constructor (i.e. one positional argument per field) in order to function correctly with the keyword outer constructor.</p><p>This generates a <code>default_parameters</code> method for the defined type, which returns the default parameters as a <code>NamedTuple</code>. If any parameters are required (have no default), they do not appear in <code>default_parameters</code>.</p><p>The new type will also have a <code>_geometry</code> field for caching geometry, or <code>_graph</code> and <code>_schematic</code> fields for composite components. Note that if you want to use your own abstract composite supertype you should define <code>SchematicDrivenLayout.iscomposite(::Val{:MyAbstractCompositeComponent}) = true</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; @compdef struct MyComp &lt;: Component
           name::String = &quot;mycomp&quot;
           a::Int = 1         # specified default
           b::String          # required keyword
       end

julia&gt; default_parameters(MyComp)
(name = &quot;mycomp&quot;, a = 1)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/compdef.jl#L1-L33">source</a></section></article><p>An <code>AbstractComponent</code> should include a <code>name</code> field, and also implement the following specializations:</p><ul><li><code>_geometry!(cs::CoordinateSystem, comp::MyComponent)</code>: Render the component&#39;s geometry to a <code>CoordinateSystem</code> <code>cs</code>.</li><li><code>hooks(::MyComponent)</code>: a <code>NamedTuple</code> of <code>Hook</code>s and/or <code>Vector{Hook}</code>s that specify where and how attachments are made</li></ul><p>Validation or reconciling of parameters should be done in an inner constructor. At least one inner constructor should accept arguments in the same form as the default inner constructor (i.e. one positional argument per field) in order to function correctly with the keyword outer constructor.</p><p>An <code>AbstractComponent</code> may also override <code>GeometryStructure</code> methods like <code>footprint</code> and <code>halo</code>.</p><p>The methods <code>check_rotation</code> and <code>allowed_rotation_angles</code> can be implemented to enforce a requirement for the orientation of the component in the global coordinate system:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.check_rotation" href="#DeviceLayout.SchematicDrivenLayout.check_rotation"><code>DeviceLayout.SchematicDrivenLayout.check_rotation</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">check_rotation(::AbstractComponent)</code></pre><p>Determines whether the global orientation of a component will be checked by <code>check!(::Schematic)</code>. <code>check_rotation(::AbstractComponent</code>) returns <code>false</code>, so any components of type <code>T</code> requiring rotation checks must overload this method as <code>check_rotation(::T) = true</code>. Checkable components must also overload the method <code>allow_rotation_angles(::T)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L237-L245">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.allowed_rotation_angles" href="#DeviceLayout.SchematicDrivenLayout.allowed_rotation_angles"><code>DeviceLayout.SchematicDrivenLayout.allowed_rotation_angles</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">allowed_rotation_angles(::AbstractComponent)</code></pre><p>Return a vector of allowed rotation angles. If the net rotation of a component in a planned <code>Schematic</code> (the rotation of its native axes relative to the axes of the global coordinate system) matches a number in this list, the component passes the check.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L248-L254">source</a></section></article><p>Finally, an <code>AbstractComponent</code> may define methods to specify default hooks for fusion with other components in a schematic:</p><ul><li><code>matching_hooks(::MyComponent1, ::MyComponent2)</code></li><li><code>matching_hooks(::MyComponent2, ::MyComponent1)</code></li><li><code>matching_hook(::MyComponent1, hook1::Symbol, ::MyComponent2)</code></li><li>...</li></ul><p>Methods for both argument orders in <code>matching_hooks</code> should generally be defined. Although <code>SchematicGraph</code>s are undirected, certain components may treat the different argument orders differently. For example, <code>matching_hooks(::Path, &lt;:AbstractComponent)</code> will attach the second argument to the endpoint hook <code>:p1</code> on the <code>Path</code>, while the reverse order will attach the start point hook <code>:p0</code> to the first argument.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.matching_hooks" href="#DeviceLayout.SchematicDrivenLayout.matching_hooks"><code>DeviceLayout.SchematicDrivenLayout.matching_hooks</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">matching_hooks(c1::S, c2::T) where {S &lt;: AbstractComponent, T &lt;: AbstractComponent}</code></pre><p>Return the hooks on <code>c1</code> and <code>c2</code> that should be fused together (as a <code>Tuple{Symbol,Symbol}</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/schematics.jl#L371-L375">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.matching_hook" href="#DeviceLayout.SchematicDrivenLayout.matching_hook"><code>DeviceLayout.SchematicDrivenLayout.matching_hook</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">matching_hook(c1::S, h1::Symbol, c2::T) where {S &lt;: AbstractComponent, T &lt;: AbstractComponent}</code></pre><p>Return the hook on <code>c2</code> that goes with <code>h1</code> on <code>c1</code> (as a <code>Symbol</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/schematics.jl#L359-L363">source</a></section></article><p>Components support the following API:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.geometry" href="#DeviceLayout.SchematicDrivenLayout.geometry"><code>DeviceLayout.SchematicDrivenLayout.geometry</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">geometry(comp::AbstractComponent)</code></pre><p>A <code>CoordinateSystem</code> containing the <code>AbstractComponent</code>&#39;s geometry with metadata.</p><p>The result for each unique <code>comp</code> (by <code>===</code>) is memoized.</p><p>The result has <code>result.name == uniquename(name(comp))</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L199-L207">source</a></section><section><div><pre><code class="language-julia hljs">geometry(cc:AbstractCompositeComponent)</code></pre><p>Return the <code>CoordinateSystem</code> resulting from <code>build!(plan(graph(cc)))</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/composite_components.jl#L92-L96">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.hooks" href="#DeviceLayout.hooks"><code>DeviceLayout.hooks</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">hooks(pa::Path)</code></pre><ul><li><code>:p0</code>: A <code>HandedPointHook</code> looking into the start of path <code>pa</code>.</li><li><code>:p1</code>: A <code>HandedPointHook</code> looking into the end of path <code>pa</code>.</li><li><code>:p0_lh</code>: A left-handed <code>HandedPointHook</code> looking into the start of path <code>pa</code>.</li><li><code>:p1_lh</code>: A left-handed <code>HandedPointHook</code> looking into the end of path <code>pa</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/paths/paths.jl#L425-L432">source</a></section><section><div><pre><code class="language-julia hljs">hooks(rres::ExampleClawedMeanderReadout)</code></pre><p><code>Hook</code>s for attaching a readout resonator claw to a qubit and coupling section to a feedline.</p><ul><li><code>qubit</code>: The &quot;palm&quot; of the claw on the outside edge of the &quot;shield&quot;. Matches <code>(eq::ExampleRectangleTransmon) =&gt; :rres</code>.</li><li><code>feedline</code>: A distance <code>coupling_gap</code> from the edge of the ground plane, vertically aligned with the claw.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/ExamplePDK/components/ReadoutResonators/clawed_meander.jl#L138-L147">source</a></section><section><div><pre><code class="language-julia hljs">hooks(sch::Schematic, node::ComponentNode)</code></pre><p>The hooks belonging to the component in <code>node</code> in the global coordinate system of <code>sch</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/schematics.jl#L651-L655">source</a></section><section><div><pre><code class="language-julia hljs">hooks(comp::AbstractComponent)</code></pre><p>A component&#39;s <code>Hook</code>s (a set of locations and rules for attaching to other components).</p><p>Returns a <code>NamedTuple</code> of <code>Hook</code>s and/or arrays of <code>Hook</code>s for a AbstractComponent instance. To access a <code>Hook</code> directly whether or not it&#39;s in an array, use <a href="#DeviceLayout.hooks"><code>hooks(::AbstractComponent, ::Symbol)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L141-L149">source</a></section><section><div><pre><code class="language-julia hljs">hooks(comp::AbstractComponent, h::Symbol)</code></pre><p>A component&#39;s <code>Hook</code> identified by <code>h</code>.</p><p>Preferred way to retrieve a hook over accessing the <code>NamedTuple</code> directly (<code>hooks(comp).h</code>). Allows access to hooks in arrays by interpreting <code>:hookname_i</code> as <code>hooks(comp).hookname[i]</code> if <code>:hookname_i</code> is not itself a key in <code>hooks(comp)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L152-L160">source</a></section><section><div><pre><code class="language-julia hljs">hooks(cc::AbstractCompositeComponent)</code></pre><p><code>Hook</code>s for the composite geometry, placed at corresponding hooks of the subcomponents.</p><p><strong>Hooks</strong></p><p>A hook <code>hcc</code> is returned for each hook (name <code>h</code>) of every subcomponent node (index <code>i</code>). If <code>keys(map_hooks(cc))</code> contains <code>i =&gt; h</code>, then the corresponding composite hook is <code>map_hooks(cc)[h]</code>. Otherwise, it is <code>_$(i)_$h</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/composite_components.jl#L162-L172">source</a></section><section><div><pre><code class="language-julia hljs">hooks(cc::AbstractCompositeComponent, subcompname::String, h::Symbol)</code></pre><p>Attempts to retrieve the composite hook corresponding to hook <code>h</code> of a <code>Component</code> with name <code>subcompname</code> (either its unique name or its name parameters). Will emit an error if the name is ambiguous.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/composite_components.jl#L185-L191">source</a></section><section><div><pre><code class="language-julia hljs">hooks(cc::AbstractCompositeComponent, i::Int, h::Symbol)
hooks(cc::AbstractCompositeComponent, (i=&gt;h)::Pair{Int, Symbol})</code></pre><p>The composite hook corresponding to hook <code>h</code> of <code>components(cc)[i]</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/composite_components.jl#L205-L210">source</a></section><section><div><pre><code class="language-julia hljs">hooks(::ExampleRectangleTransmon)</code></pre><p><code>Hook</code>s for attaching control lines and readout to the transmon.</p><ul><li><code>readout</code>: The center edge of the ground plane on the opposite side of the island from the SQUID.</li><li><code>xy</code>: The left side of the capacitor gap.</li><li><code>z</code>: The center edge of the ground plane in the SQUID loop.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/ExamplePDK/components/Transmons/Transmons.jl#L243-L251">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.default_parameters" href="#DeviceLayout.SchematicDrivenLayout.default_parameters"><code>DeviceLayout.SchematicDrivenLayout.default_parameters</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_parameters(::Type{T}) where T &lt;: AbstractComponent
default_parameters(::T) where T &lt;: AbstractComponent</code></pre><p>A <code>NamedTuple</code> of default parameters for component type <code>T</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L9-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.halo-Tuple{DeviceLayout.AbstractComponent, Any, Any}" href="#DeviceLayout.halo-Tuple{DeviceLayout.AbstractComponent, Any, Any}"><code>DeviceLayout.halo</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">halo(c::AbstractComponent, delta, inner_delta=nothing; only_layers=[], ignore_layers=[])</code></pre><p>A component&#39;s halo, intended for use as an exclusion zone parameterized by a bias <code>delta</code>.</p><p>By default, this applies a <code>delta</code> halo to all <code>geometry</code> elements whose metadata matches the inclusion/exclusion requirements. For example, polygons are offset by <code>delta</code> (enlarged by growing <code>delta</code> away from each original edge). Any entities in layers in <code>ignore_layers</code> will be skipped. If <code>only_layers</code> is not empty, only those layers will be used to generate the halo. Layers for inclusion and exclusion can be provided as layer name <code>Symbol</code>s, in which case only the layer name needs to be matched, or as full <code>DeviceLayout.Meta</code> objects, in which case all metadata fields (e.g., index and level for <code>SemanticMeta</code>) must match.</p><p>An <code>inner_delta</code> may be specified to subtract the halo at that bias from the result.</p><p><code>AbstractComponent</code>s may define their own <code>halo</code> methods.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L257-L274">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.name-Tuple{DeviceLayout.AbstractComponent}" href="#DeviceLayout.name-Tuple{DeviceLayout.AbstractComponent}"><code>DeviceLayout.name</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">name(comp::AbstractComponent)</code></pre><p>The component&#39;s name.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L127-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.non_default_parameters" href="#DeviceLayout.SchematicDrivenLayout.non_default_parameters"><code>DeviceLayout.SchematicDrivenLayout.non_default_parameters</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">non_default_parameters(c::AbstractComponent)</code></pre><p>A <code>NamedTuple</code> of the parameters of <code>c</code> that were set to values other than their defaults.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L108-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.parameters" href="#DeviceLayout.parameters"><code>DeviceLayout.parameters</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parameters(comp::AbstractComponent)</code></pre><p>The component&#39;s <code>NamedTuple</code> of parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L134-L138">source</a></section><section><div><pre><code class="language-julia hljs">parameters(cc::BasicCompositeComponent)</code></pre><p>Retrieve the parameters set indirectly by <code>cc</code>&#39;s internal <code>SchematicGraph</code>:</p><ul><li><code>name</code>: <code>g.name</code>, from which the component&#39;s unique name is generated</li><li><code>sub_parameters</code>: A tuple of <code>NamedTuple</code>s containing the subcomponent parameters in order</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/builtin_components.jl#L257-L264">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.parameter_names" href="#DeviceLayout.SchematicDrivenLayout.parameter_names"><code>DeviceLayout.SchematicDrivenLayout.parameter_names</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parameter_names(::Type{T}) where T &lt;: AbstractComponent
parameter_names(::T) where T &lt;: AbstractComponent</code></pre><p>Parameter name <code>Symbol</code>s for component type <code>T</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L18-L23">source</a></section></article><p>Components can be created by several methods. In addition to the keyword constructor, the <code>create_component</code> and <code>set_parameters</code> method allow the use of a set of base parameters or a prototype component to effectively provide a new set of defaults. The <code>@component</code> macro can also be used with either a component type or an instance.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.@component" href="#DeviceLayout.SchematicDrivenLayout.@component"><code>DeviceLayout.SchematicDrivenLayout.@component</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@component comp = MyComponent param1=val1 param2=val2 ...
@component comp = MyComponent begin
    param1 = val1
    param2 = val2
    ...
end
@component comp[1:10] = MyComponent begin 
    param1 .= vals1_vec
    param2 = val2
    ...
end
@component comp[1:10, 1:10] = MyComponent begin
    param1 .= vals1_arr
    param2 = val2
    ...
end</code></pre><p>Create a <code>Component</code> or vector of components with specified name and parameters.</p><p>For a single component, the symbol on the left-hand side is passed as the <code>name</code> of the component. Parameters can be provided like keyword arguments on the same line or in a block (multiple lines enclosed by <code>begin</code> and <code>end</code>).</p><p>If the left-hand side is written as <code>comp[1:n]</code>, then <code>comp</code> will be an array of <code>n</code> components with names <code>comp1</code>, <code>comp2</code>, ..., <code>comp$n</code>. A parameter can be passed to all instances using the same syntax as for a single component, or each component can be passed its parameter out of a vector of parameters values <code>vals_vec</code> by using broadcast assignment (<code>param .= vals_vec</code>).</p><p>Similarly, multidimensional arrays of components can be created using <code>@component comp[1:m, 1:n]</code>.</p><p>A component instance can also be used in place of the component type, in which case the &quot;default&quot; values for unspecified parameters will be those of that component.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L281-L314">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.create_component" href="#DeviceLayout.SchematicDrivenLayout.create_component"><code>DeviceLayout.SchematicDrivenLayout.create_component</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_component(
    ::Type{T},
    name::String=default_parameters(T).name,
    base_parameters::NamedTuple=default_parameters(T);
    kwargs...
) where {T &lt;: AbstractComponent}</code></pre><p>Create an instance of type <code>T</code> with name <code>name</code> and parameters derived by merging <code>kwargs</code> into <code>base_parameters</code>.</p><p>The parameter merge is recursive, meaning that a <code>NamedTuple</code> keyword argument will be merged into the corresponding <code>NamedTuple</code> base parameter. This can be convenient because not every &quot;subparameter&quot; within that <code>NamedTuple</code> needs to be specified. This is in contrast to the default component keyword constructor, which does not merge recursively.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L29-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.set_parameters" href="#DeviceLayout.SchematicDrivenLayout.set_parameters"><code>DeviceLayout.SchematicDrivenLayout.set_parameters</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_parameters(
    c::AbstractComponent,
    name::String=name(c),
    params::NamedTuple=parameters(c);
    kwargs...
)</code></pre><p>Create an instance of type <code>typeof(c)</code> with name <code>name</code> and parameters derived by merging <code>kwargs</code> into `params.</p><p>The parameter merge is recursive, meaning that a <code>NamedTuple</code> keyword argument will be merged into the corresponding <code>NamedTuple</code> base parameter. This can be convenient because not every &quot;subparameter&quot; within that <code>NamedTuple</code> needs to be specified. This is in contrast to the default component keyword constructor, which does not merge recursively.</p><p>This can also be written by calling the component instance <code>c</code> like a function: <code>c(name, params; kwargs...)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/components.jl#L78-L95">source</a></section></article><h2 id="Built-in-components"><a class="docs-heading-anchor" href="#Built-in-components">Built-in components</a><a id="Built-in-components-1"></a><a class="docs-heading-anchor-permalink" href="#Built-in-components" title="Permalink"></a></h2><p>We provide some other predefined components that may be generally useful.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.ArrowAnnotation" href="#DeviceLayout.SchematicDrivenLayout.ArrowAnnotation"><code>DeviceLayout.SchematicDrivenLayout.ArrowAnnotation</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ArrowAnnotation{T} &lt;: AbstractComponent{T}
    name::String = &quot;arrow&quot;
    length = 0.032mm
    width = 0.005mm
    text::String = &quot;&quot;
    textsize = 0.025mm
    meta = SemanticMeta(:annotation)
end</code></pre><p>An arrow with a given length and width along with a text annotation in the layer given by <code>meta</code>.</p><p><strong>Hooks</strong></p><ul><li><code>nock</code>: The base of the arrow, with inward direction along the arrow</li><li><code>tip</code>: The tip of the arrow, with inward direction opposite the arrow</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/builtin_components.jl#L40-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.BasicComponent" href="#DeviceLayout.SchematicDrivenLayout.BasicComponent"><code>DeviceLayout.SchematicDrivenLayout.BasicComponent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct BasicComponent{T} &lt;: AbstractComponent{T}
BasicComponent(cs::CoordinateSystem{T}, hooks=(;))</code></pre><p>A simple <code>AbstractComponent</code> that acts as a lightweight wrapper for a <code>CoordinateSystem</code>.</p><p>The component <code>geometry</code> is a fixed <code>CoordinateSystem</code>, provided to the constructor along with <code>hooks</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/builtin_components.jl#L164-L171">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.GDSComponent" href="#DeviceLayout.SchematicDrivenLayout.GDSComponent"><code>DeviceLayout.SchematicDrivenLayout.GDSComponent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct GDSComponent{T} &lt;: AbstractComponent{T}
    name::String
    cell::Cell{T}
    hooks::NamedTuple
    meta::DeviceLayout.Meta
end</code></pre><p>A component with geometry corresponding to an explicit <code>Cell</code>.</p><p>The <code>meta</code> field does not affect metadata inside the <code>Cell</code>, but can still be used by a <code>LayoutTarget</code> to decide whether the component should be rendered or not.</p><p>Hooks are supplied by the user, with a default of <a href="../hooks/#DeviceLayout.compass"><code>compass()</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/builtin_components.jl#L95-L110">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.Spacer" href="#DeviceLayout.SchematicDrivenLayout.Spacer"><code>DeviceLayout.SchematicDrivenLayout.Spacer</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Spacer{T} &lt;: AbstractComponent{T}</code></pre><p>Provides an 8-point <a href="../hooks/#DeviceLayout.compass">compass</a> of hooks at each of two points separated by <code>p1</code>.</p><p><strong>Parameters</strong></p><ul><li><code>p1</code>: The endpoint of the spacer</li></ul><p><strong>Hooks</strong></p><ul><li><code>p0_east</code>: Hook at the origin, with <code>in_direction</code> pointing &quot;east&quot; (positive x direction)</li><li><code>p0_northeast</code></li><li><code>p0_north</code></li><li>...</li><li><code>p0_southeast</code></li><li><code>p1_east</code>: Hook at <code>p1</code>, with <code>in_direction</code> pointing &quot;east&quot; (positive x direction)</li><li><code>p1_northeast</code></li><li>...</li><li><code>p1_southeast</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/builtin_components.jl#L11-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.WeatherVane" href="#DeviceLayout.SchematicDrivenLayout.WeatherVane"><code>DeviceLayout.SchematicDrivenLayout.WeatherVane</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">WeatherVane{T} &lt;: AbstractComponent{T}</code></pre><p>A component with empty geometry and an 8-point compass of hooks at the origin.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/builtin_components.jl#L1-L5">source</a></section></article><h2 id="Paths-as-components"><a class="docs-heading-anchor" href="#Paths-as-components">Paths as components</a><a id="Paths-as-components-1"></a><a class="docs-heading-anchor-permalink" href="#Paths-as-components" title="Permalink"></a></h2><p>Another component already showed up in geometry-level layout: <a href="../../paths/#DeviceLayout.Paths.Path"><code>DeviceLayout.Path</code></a> is an <code>AbstractComponent</code> with hooks <code>p0</code> and <code>p1</code> corresponding to its start and end. <code>Path</code> supports the interface described above and can be added directly to a schematic just like any other component.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.hooks-Tuple{Path}" href="#DeviceLayout.hooks-Tuple{Path}"><code>DeviceLayout.hooks</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">hooks(pa::Path)</code></pre><ul><li><code>:p0</code>: A <code>HandedPointHook</code> looking into the start of path <code>pa</code>.</li><li><code>:p1</code>: A <code>HandedPointHook</code> looking into the end of path <code>pa</code>.</li><li><code>:p0_lh</code>: A left-handed <code>HandedPointHook</code> looking into the start of path <code>pa</code>.</li><li><code>:p1_lh</code>: A left-handed <code>HandedPointHook</code> looking into the end of path <code>pa</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/paths/paths.jl#L425-L432">source</a></section></article><p>Recall that <code>Path</code> supports a geometry-level <a href="../../paths/#DeviceLayout.Paths.attach!-Union{Tuple{T}, Tuple{Path{T}, DeviceLayout.GeometryReference{T}, Union{Real, Unitful.Level{L, S, Unitful.Quantity{T, 𝐋, U}} where {T, U, L, S}, Unitful.Quantity{T, 𝐋} where T}}} where T"><code>attach!</code></a> method that can place references to other structures along it. It also supports a schematic-level <a href="../schematics/#DeviceLayout.Paths.attach!-Union{Tuple{T}, Tuple{S}, Tuple{DeviceLayout.SchematicDrivenLayout.SchematicGraph, S, Pair{T, Symbol}, Union{Real, Unitful.Level{L, S, Unitful.Quantity{T, 𝐋, U}} where {T, U, L, S}, Unitful.Quantity{T, 𝐋} where T}}} where {S&lt;:DeviceLayout.SchematicDrivenLayout.ComponentNode, T&lt;:DeviceLayout.SchematicDrivenLayout.ComponentNode}"><code>attach!</code></a> with a similar syntax, which positions components along the path by defining an edge in the schematic graph.</p><h2 id="Composite-components"><a class="docs-heading-anchor" href="#Composite-components">Composite components</a><a id="Composite-components-1"></a><a class="docs-heading-anchor-permalink" href="#Composite-components" title="Permalink"></a></h2><p>A &quot;composite&quot; component is one that&#39;s at least partly made up of other components. Nothing stops you from &quot;baking in&quot; subcomponents in your component&#39;s <code>geometry</code> function by deriving parameters and getting geometries for those subcomponents yourself. You could even construct a <code>SchematicGraph</code> then <code>plan</code>, <code>check!</code>, and <code>build!</code> it to get a coordinate system of subcomponents fused together. But in that case, your top-level schematic won&#39;t know anything about what&#39;s inside your composite component.</p><p>As an alternative, we define <code>abstract type AbstractCompositeComponent &lt;: AbstractComponent</code>, which is minimally a <code>Component</code> with a <code>graph(cc::MyCompositeComponent)</code> method that produces a <code>SchematicGraph</code> of the subcomponents it&#39;s made from, such that the composite component&#39;s geometry is just <code>build!(plan(graph(cc)))</code>.</p><p>SchematicDrivenLayout provides a concrete composite component: <code>BasicCompositeComponent</code>, which is really just a graph defined by the user and wrapped in a <code>Component</code>. It maps parameters and hook names exposed by the composite component by prefixing their names with <code>_i_</code>, where <code>i</code> is the index of the subcomponent node in <code>graph(cc)</code>.</p><p>A new subtype of <code>CompositeComponent</code> can be defined to use a custom reparameterization and mapping of hook names in the subgraph.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.AbstractCompositeComponent" href="#DeviceLayout.SchematicDrivenLayout.AbstractCompositeComponent"><code>DeviceLayout.SchematicDrivenLayout.AbstractCompositeComponent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractCompositeComponent{T} &lt;: AbstractComponent{T}</code></pre><p>A <code>Component</code> with geometry derived from that of a <code>SchematicGraph</code> of subcomponents.</p><p>The alias <code>CompositeComponent = AbstractCompositeComponent{typeof(1.0nm)}</code> is provided for convenience.</p><p>A standard <code>Component</code> <code>c</code> is described by its <a href="#DeviceLayout.SchematicDrivenLayout.geometry"><code>geometry(c)</code></a>, <a href="#DeviceLayout.parameters"><code>parameters(c)</code></a>, and <a href="#DeviceLayout.hooks"><code>hooks(c)</code></a>. In contrast, a <code>CompositeComponent</code> <code>cc</code> also has <code>parameters</code>, but is otherwise described at the level of <a href="#DeviceLayout.SchematicDrivenLayout.graph"><code>graph(cc)</code></a> and <a href="#DeviceLayout.SchematicDrivenLayout.map_hooks"><code>map_hooks(cc)</code></a>, which define a relationship between the <code>CompositeComponent</code> and the geometry and hooks of its subcomponents.</p><p>If a <code>SchematicGraph</code> <code>g</code> contains a node with a <code>CompositeComponent</code>, then the subgraph <code>graph(cc)</code> will be accessible to inspection tools for <code>g</code>. For example, <code>find_components</code> can return nodes in the subgraph. You can also <code>flatten!(g)</code> to simply replace <code>cc</code>&#39;s node with <code>graph(cc)</code>.</p><p>The list of subcomponents in the graph can be obtained with <code>components(cc)</code> (equivalent to <code>components(graph(cc))</code>).</p><p>In order to take advantage of this interface, the implementation of a <code>CompositeComponent</code> should contain the following fields, in order:</p><ul><li><code>parameters::NamedTuple</code>: A collection of parameters</li></ul><p>A <code>CompositeComponent</code> must also implement the following specializations:</p><ul><li><code>_build_subcomponents</code>: Returns a <code>Tuple</code> of subcomponents</li><li><code>_graph!(g::SchematicGraph, cc::MyComponent, subcomps::NamedTuple)</code>: Populates and connects the schematic graph corresponding to <code>cc</code>, where <code>subcomps</code> contains the results of <code>_build_subcomponents</code> keyed by name</li><li><code>map_hooks(::Type{MyComponent})</code>: A <code>Dict{Pair{Int, Symbol}, Symbol</code> mapping subcomponent hooks to hooks presented by the composite component.</li></ul><p>Validation or reconciling of parameters should be done in an inner constructor that replaces the default inner constructor.</p><p>If you define your own abstract composite component subtype you should define <code>SchematicDrivenLayout.iscomposite(::Val{:MyAbstractCompositeComponent}) = true</code> to allow the <code>@compdef</code> macro to recognize that the component is composite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/composite_components.jl#L1-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.CompositeComponent" href="#DeviceLayout.SchematicDrivenLayout.CompositeComponent"><code>DeviceLayout.SchematicDrivenLayout.CompositeComponent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">const CompositeComponent = AbstractCompositeComponent{typeof(1.0UPREFERRED)}</code></pre><p><code>CompositeComponent</code> is an alias for <code>AbstractCompositeComponent</code> with the coordinate type <code>typeof(1.0UPREFERRED)</code>.</p><p><a href="../../units/#DeviceLayout.PreferNanometers.UPREFERRED"><code>DeviceLayout.UPREFERRED</code></a> is a constant set according to the <code>unit</code> preference in <code>Project.toml</code> or <code>LocalPreferences.toml</code>. The default (<code>&quot;PreferNanometers&quot;</code>) gives <code>const UPREFERRED = DeviceLayout.nm</code>, with mixed-unit operations preferring conversion to <code>nm</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/composite_components.jl#L44-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.BasicCompositeComponent" href="#DeviceLayout.SchematicDrivenLayout.BasicCompositeComponent"><code>DeviceLayout.SchematicDrivenLayout.BasicCompositeComponent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct BasicCompositeComponent{T} &lt;: AbstractCompositeComponent{T}</code></pre><p>A simple <code>AbstractCompositeComponent</code> that acts as a lightweight wrapper for a <code>SchematicGraph</code>.</p><p>The component <code>scc = BasicCompositeComponent(g::SchematicGraph)</code> copies <code>g</code> and generates its geometry as <code>build!(check!(plan(g)))</code>.</p><p><code>hooks(scc)</code> returns a <code>NamedTuple</code> with the hook <code>h</code> of the <code>i</code>th subcomponent as <code>_i_h</code>.</p><p>Parameters are set indirectly by the internal <code>SchematicGraph</code>:</p><ul><li><code>name</code>: <code>g.name</code>, from which the component&#39;s unique name is generated</li><li><code>sub_parameters</code>: A tuple of <code>NamedTuple</code>s containing the subcomponent parameters in order</li></ul><p>A <code>BasicCompositeComponent</code> instance can also be used as a constructor, taking the argument <code>param_sets</code> (a tuple of parameters for each subcomponent, in order), along with keyword arguments <code>_i_param</code> for a parameter named <code>param</code> in subcomponent <code>i</code>. Default values are provided by the components in <code>g</code>.</p><pre><code class="nohighlight hljs">    (cc::BasicCompositeComponent)(
        param_sets::Tuple = ();
        kwargs...)</code></pre><p>Create a version of <code>cc</code> with different subcomponent parameters.</p><p>Argument <code>param_sets</code> is a tuple of <code>NamedTuple</code>s containing each subcomponent&#39;s parameters. If it is not empty, it must have a <code>NamedTuple</code>s for each subcomponent, even an empty one.</p><p>Keyword arguments are <code>_i_param</code> for a parameter named <code>param</code> in subcomponent <code>i</code>. Default values are provided by the components in <code>g</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/builtin_components.jl#L182-L215">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.components-Tuple{DeviceLayout.SchematicDrivenLayout.CompositeComponent}" href="#DeviceLayout.SchematicDrivenLayout.components-Tuple{DeviceLayout.SchematicDrivenLayout.CompositeComponent}"><code>DeviceLayout.SchematicDrivenLayout.components</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">components(cc::AbstractCompositeComponent)</code></pre><p>A list of the components in the subgraph of <code>cc</code>. Equivalent to <code>components(graph(cc))</code></p><p>Unlike <code>subcomponents</code>, <code>components</code> will return a component for every node, even if multiple nodes use the same component.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/composite_components.jl#L230-L237">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.flatten-Tuple{DeviceLayout.SchematicDrivenLayout.SchematicGraph}" href="#DeviceLayout.flatten-Tuple{DeviceLayout.SchematicDrivenLayout.SchematicGraph}"><code>DeviceLayout.flatten</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">flatten(g::SchematicGraph; depth=-1)</code></pre><p>Create a copy of <code>g</code> with all <code>AbstractCompositeComponent</code>s replaced by their graphs.</p><p>For non-composite components, the identical <code>ComponentNode</code>s will be preserved.</p><p><strong>Keywords</strong></p><ul><li><code>depth</code>: How many times to iteratively flatten top-level <code>AbstractCompositeComponent</code>s. If negative, will repeat until no <code>AbstractCompositeComponent</code>s remain.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/composite_components.jl#L243-L254">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.graph" href="#DeviceLayout.SchematicDrivenLayout.graph"><code>DeviceLayout.SchematicDrivenLayout.graph</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">graph(cc::AbstractCompositeComponent)</code></pre><p>The <code>SchematicGraph</code> represented by <code>cc</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/composite_components.jl#L68-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.map_hooks" href="#DeviceLayout.SchematicDrivenLayout.map_hooks"><code>DeviceLayout.SchematicDrivenLayout.map_hooks</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">map_hooks(cc::AbstractCompositeComponent)
map_hooks(cc::Type{&lt;:AbstractCompositeComponent})</code></pre><p>A <code>Dict{Pair{Int, Symbol}, Symbol}</code> mapping subcomponent hooks to composite hooks.</p><p>For example, the entry <code>(2 =&gt; :readout) =&gt; :readout_2</code> means the <code>readout</code> hook for the subcomponent in <code>graph(cc)</code>&#39;s node 2 will be available as <code>hooks(cc).readout_2</code> in the composite geometry.</p><p>Subcomponent <code>Hook</code>s that are not mapped will still be available as <code>:_$(i)_$h</code>, where <code>i</code> is the subcomponent&#39;s node index in <code>graph(cc)</code> and <code>h</code> is the hook name. In other words, the above example would have the fallback default <code>:_2_readout</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/composite_components.jl#L141-L154">source</a></section></article><h2 id="Modifying-components"><a class="docs-heading-anchor" href="#Modifying-components">Modifying components</a><a id="Modifying-components-1"></a><a class="docs-heading-anchor-permalink" href="#Modifying-components" title="Permalink"></a></h2><p>Sometimes we want to use components in ways the component designer didn&#39;t predict. For example, we might want to draw a <code>Qubit</code> component on the top chip in a flipchip assembly, but the metadata in the generated geometry corresponds to the bottom chip.</p><p>There are a couple ways to do this concisely. One is to take a <code>Qubit</code> and run <a href="../../geometry/#DeviceLayout.map_metadata!"><code>map_metadata!</code></a> on it:</p><pre><code class="language-julia hljs">q = Qubit()
map_metadata!(q, facing)</code></pre><p>This applies <a href="../targets/#DeviceLayout.SchematicDrivenLayout.facing"><code>facing</code></a> to each piece of metadata in <code>geometry(q)</code>. Any function of metadata that returns metadata can be used as the second argument, so if you only wanted to flip the <code>:jj</code> layer, you could write <code>map_metadata!(q, m -&gt; layer(m) == :jj ? facing(m) : m)</code>.</p><p>Note that <code>geometry(q)</code> is associated only with <code>q</code>, and changes to it are not tracked elsewhere. If, in a later step, you were to apply junction width corrections by replacing <code>q</code> with <code>q2 = typeof(q)(; parameters(q)..., jj_width=new_width)</code>, then <code>q2</code> would not be on the flip chip.</p><p>For larger changes, we can make a new <code>Component</code> type. Rather than copy the <code>Qubit</code> definition and find-and-replace its metadata, we can use the <code>@variant</code> macro.</p><pre><code class="language-julia hljs">@variant FlipchipQubit Qubit map_meta = facing
fq = FlipchipQubit()
all(level.(element_metadata(geometry(fq))) .== 2)</code></pre><p>This creates a new type, <code>FlipchipQubit</code>, and automatically defines the required methods for <code>Component</code> implementation using the <code>Qubit</code> implementation. It has the same <code>default_parameters</code>, <code>hooks</code>, and almost the same <code>_geometry!</code>. Since we supplied the optional keyword <code>map_meta</code>, the geometry method for the new type creates a <code>Qubit</code> and then applies <code>facing</code> to each element (and referenced structure, recursively), as in the <code>map_metadata!</code> example above. But unlike with using <code>map_metadata!</code> on a single <code>Qubit</code> instance, you can replace <code>fq</code> with another <code>typeof(fq)</code> without losing the level information.</p><p>You can also go further with manual modifications. You could add a cutout on the bottom chip, along with a parameter to control the size of the cutout:</p><pre><code class="language-julia hljs">@variant CutoutFlipchipQubit Qubit map_meta = facing new_defaults = (; cutout_margin=20μm)
function SchematicDrivenLayout._geometry!(cs::CoordinateSystem, fq::CutoutFlipchipQubit)
    _geometry!(cs, base_variant(fq)) # base_variant gives you the equivalent `Qubit`
    map_metadata!(cs, facing)
    # The above lines are what we would get from @variant Qubit map_meta=facing
    # Below, we add a cutout on the bottom chip
    return place!(cs, offset(bounds(cs), parameters(fq).cutout_margin)[1], BASE_NEGATIVE)
end</code></pre><p>Note that if <code>Qubit</code> were a <code>CompositeComponent</code>, we would have to use the macro <code>@composite_variant</code> instead.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.base_variant" href="#DeviceLayout.SchematicDrivenLayout.base_variant"><code>DeviceLayout.SchematicDrivenLayout.base_variant</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">base_variant(comp::AbstractComponent)</code></pre><p>If <code>comp</code> is a <a href="#DeviceLayout.SchematicDrivenLayout.@variant"><code>@variant</code></a> of some other component type <code>T &lt;: AbstractComponent</code>, return an instance of <code>T</code> with the same name as <code>comp</code>; otherwise, return <code>comp</code>.</p><p>When the base component shares a parameter with <code>comp</code>, then in the returned component, that parameter will take the value it has in <code>comp</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/variants.jl#L1-L8">source</a></section><section><div><pre><code class="language-julia hljs">base_variant(comptype::Type{&lt;:AbstractComponent})</code></pre><p>If <code>comptype</code> is a <a href="#DeviceLayout.SchematicDrivenLayout.@variant"><code>@variant</code></a> of some other component type <code>T &lt;: AbstractComponent</code>, return <code>T</code>; otherwise, return <code>comptype</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/variants.jl#L11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.flipchip!" href="#DeviceLayout.SchematicDrivenLayout.flipchip!"><code>DeviceLayout.SchematicDrivenLayout.flipchip!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">flipchip!(geom::GeometryStructure)</code></pre><p>Map all metadata in <code>geom</code> to <a href="../targets/#DeviceLayout.SchematicDrivenLayout.facing"><code>facing</code></a> copies. Recursive on referenced structures.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/targets.jl#L107-L111">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.@variant" href="#DeviceLayout.SchematicDrivenLayout.@variant"><code>DeviceLayout.SchematicDrivenLayout.@variant</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@variant NewType BaseType new_defaults=(;) map_meta=nothing</code></pre><p>Create <code>NewType &lt;: AbstractComponent</code> based on <code>BaseType</code>, with optional <code>new_defaults</code> and <code>map_meta</code>.</p><p>Default parameters for the new type will be <code>new_defaults</code> merged into <code>default_parameters(T)</code>. You can override the original defaults or add entirely new parameters this way.</p><p>If provided, <code>map_meta</code> should be a function of <code>DeviceLayout.Meta</code> that returns another <code>DeviceLayout.Meta</code>. It will be applied recursively to the geometry of the base component using <code>map_metadata!</code>.</p><p>Individual methods like <code>hooks</code> and <code>_geometry!</code> can then be overridden to create variant behavior.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/variants.jl#L140-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DeviceLayout.SchematicDrivenLayout.@composite_variant" href="#DeviceLayout.SchematicDrivenLayout.@composite_variant"><code>DeviceLayout.SchematicDrivenLayout.@composite_variant</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@composite_variant NewType BaseType new_defaults=(;) map_meta=nothing</code></pre><p>Create <code>NewType &lt;: AbstractCompositeComponent</code> based on <code>BaseType</code>, with optional <code>new_defaults</code> and <code>map_meta</code>.</p><p>Default parameters for the new type will be <code>new_defaults</code> merged into <code>default_parameters(T)</code>.</p><p>If provided, <code>map_meta</code> should be a function of <code>DeviceLayout.Meta</code> that returns another <code>DeviceLayout.Meta</code>. It will be applied recursively to the geometry of the base component using <a href="../../geometry/#DeviceLayout.map_metadata!"><code>map_metadata!</code></a>.</p><p>Individual methods like <code>hooks</code> and <code>_geometry!</code> can then be overridden to create variant behavior.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aws-cqc/DeviceLayout.jl/blob/89c9228ef5c3593070ef47c44c8141f19efd9067/src/schematics/components/variants.jl#L164-L175">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Overview</a><a class="docs-footer-nextpage" href="../hooks/">Hooks »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Thursday 27 February 2025 13:39">Thursday 27 February 2025</span>. Using Julia version 1.10.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
